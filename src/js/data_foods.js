var dataMakanan = {
  beef: [
    {
      id: 1,
      images: "img/menu/Makanan/Beef/Sop_Buntut_Tradisional.jpeg",
      nama: "Sop Buntut <br> Tradisional",
      harga: 80000,
      detail: "Daging Ekor Sapi, Sayuran, dan Bumbu Rahasia",
    },
    {
      id: 2,
      images: "img/menu/Makanan/Beef/Sop_Konro_Sukajaya.jpeg",
      nama: "Sop Konro <br> SukaJaya",
      harga: 80000,
      detail: "Daging Iga Sapi dan Bumbu Rahasia",
    },
    {
      id: 3,
      images: "img/menu/Makanan/Beef/Soto_Betawi.jpg",
      nama: "Soto <br> Betawi",
      harga: 68000,
      detail: "Daging Sapi, Santan, Emping, Sayuran dan Bumbu Rahasia",
    },
    {
      id: 4,
      images: "img/menu/Makanan/Beef/Lapis_Daging_Lada_Hitam.jpg",
      nama: "Lapis Daging Lada Hitam",
      harga: 56000,
      detail: "Daging Sapi, Lada Hitam, Tomat, dan Bumbu Rahasia",
    },
    {
      id: 5,
      images: "img/menu/Makanan/Beef/Daging_Sapi_Bumbu_Roedjak.jpg",
      nama: "Daging Sapi Bumbu Roedjak",
      harga: 56000,
      detail: "Daging Sapi, Rempah-Rempah, dan Bumbu Rahasia",
    },
    {
      id: 6,
      images: "img/menu/Makanan/Beef/Paru_Goreng_Sambal_Bawang.jpg",
      nama: "Paru Goreng Sambal Bawang",
      harga: 38000,
      detail: "Paru, Sambal Bawang, dan Bumbu Rahasia",
    },
  ],
  poultry: [
    {
      id: 1,
      images: "img/menu/Makanan/Poultry/Ayam_Bakar_Taliwang.jpeg",
      nama: "Ayam Bakar <br> Taliwang",
      harga: 65000,
      detail: "Ayam, Bumbu Bakar, Kemangi, dan Sambal",
    },
    {
      id: 2,
      images: "img/menu/Makanan/Poultry/Ayam_Belacan.jpeg",
      nama: "Ayam <br> Balacan",
      harga: 37000,
      detail: "Ayam dan Bumbu Balacan (Udang Rebon yang di Fermentasi)",
    },
    {
      id: 3,
      images: "img/menu/Makanan/Poultry/Ayam_Betutu.jpg",
      nama: "Ayam <br> Betutu",
      harga: 65000,
      detail: "Ayam, Bumbu Bali, Kemangi, dan Sambel Matah",
    },
    {
      id: 4,
      images: "img/menu/Makanan/Poultry/Bebek_Cabe_Hijau.jpeg",
      nama: "Bebek <br> Cabe Hijau",
      harga: 80000,
      detail: "Bebek, Bumbu Cabe Hijau, dan Rebusan Daun Singkong",
    },
    {
      id: 5,
      images: "img/menu/Makanan/Poultry/Bebek_Krispi_Bali.jpg",
      nama: "Bebek Kripsi <br> Bali",
      harga: 78000,
      detail: "Bebek, Telur Sambel Balado, Sambel Matah, dan Lawar",
    },
  ],
  seafood: [
    {
      id: 1,
      images: "img/menu/Makanan/Seafood/Udang_Kari_Telur_Asin.jpeg",
      nama: "Udang Kari <br> Telur Asin",
      harga: 74000,
      detail: "Udang, Telur Asin, dana Bumbu Kari",
    },
    {
      id: 2,
      images: "img/menu/Makanan/Seafood/Udang_Goreng_Sambal_Limau.jpg",
      nama: "Udang Goreng <br> Sambal Limau",
      harga: 68000,
      detail: "Udang, dan Sambal Limau",
    },
    {
      id: 3,
      images: "img/menu/Makanan/Seafood/Nasi_Cumi_Hitam.png",
      nama: "Nasi Cumi <br> Hitam",
      harga: 38000,
      detail: "Cumi, Nasi, dan Emping",
    },
    {
      id: 4,
      images: "img/menu/Makanan/Seafood/Dori_Asam_Pedas.jpeg",
      nama: "Dori <br> Asam Pedas",
      harga: 25000,
      detail: "Fillet Ikan Dori dan Bumbu Asam Pedas",
    },
    {
      id: 5,
      images: "img/menu/Makanan/Seafood/Dori_Sambal_Matah.png",
      nama: "Dori <br> Sambal Matah",
      harga: 25000,
      detail: "Fillet Ikan Dori dan Sambal Matah",
    },
  ],
  rijstafel: [
    {
      id: 1,
      images: "img/menu/Makanan/Rijstafel/Nasi_Lodeh_Ikan_Jambal.jpg",
      nama: "Nasi Lodeh <br> Ikan Jambal",
      harga: 42000,
      detail:
        "Nasi, Kacang Panjang, Terong, Santan, Ikan Jambal, Sambal Terasi, Tempe dan Tahu goreng",
    },
    {
      id: 2,
      images: "img/menu/Makanan/Rijstafel/Nasi_Bakar_Tuna.jpeg",
      nama: "Nasi Bakar <br> Tuna",
      harga: 37000,
      detail: "Nasi, Ikan tuna, Cumi Hitam, Pete dan Telur Asin",
    },
    {
      id: 3,
      images: "img/menu/Makanan/Rijstafel/Nasi_Ti_Pete_Telus_Asin.jpeg",
      nama: "Nasi Tim Pete <br> Telur Asin",
      harga: 37000,
      detail: "Nasi, Petai, dan Telur Asin",
    },
    {
      id: 4,
      images: "img/menu/Makanan/Rijstafel/Nasi_Campur_bali.jpg",
      nama: "Nasi Campur <br> Bali",
      harga: 34000,
      detail: "Telur, Suwiran Ayam, Sambel matah, Sate Lilit Ayam, dan Lawar",
    },
  ],
  sayuran: [
    {
      id: 1,
      images: "img/menu/Makanan/Sayuran/Cah_Brokoli_Saus_Tiram.jpg",
      nama: "Cah Brokoli <br> Saus Tiram",
      harga: 34000,
      detail: "Brokoli, Saus Tiram, jamur, dan Bumbu Rahasia",
    },
    {
      id: 2,
      images: "img/menu/Makanan/Sayuran/Oseng_Buncis_Jagung_Telur.jpg",
      nama: "Oseng Buncis Jagung <br> Telur",
      harga: 30000,
      detail: "Buncis, Telur, Jagung, dan Bumbu Rahasia",
    },
    {
      id: 3,
      images: "img/menu/Makanan/Sayuran/Cah_Jamur_Telur_Puyuh.jpg",
      nama: "Cah Jamur <br> Telur Puyuh",
      harga: 28000,
      detail: "Jamur, Telur Puyuh, dana Bumbu Rahasia",
    },
    {
      id: 4,
      images: "img/menu/Makanan/Sayuran/Tumis_Buncis_Cabe_Balacan.jpg",
      nama: "Tumis Buncis Cabe <br> Balacan",
      harga: 28000,
      detail: "Buncis, Cabe Balacan, dan Bumbu Rahasia",
    },
    {
      id: 5,
      images: "img/menu/Makanan/Sayuran/Tumis_Plencing_Kangkung.jpeg",
      nama: "Tumis Plencing <br> Kangkung",
      harga: 28000,
      detail:
        "Kangkung, Plencing(Udang kecil yang diawetkan dan Kacang Tanaah goreng)",
    },
  ],
  nasi_dan_mie: [
    {
      id: 1,
      images: "img/menu/Makanan/Nasi_dan_Mie/Mie_Kuah_Kari_Aceh.jpeg",
      nama: "Mie Kuah <br> Kari Aceh",
      harga: 36000,
      detail: "Mie, Udang, Bumbu Kari Aceh, Daging Ayam, Tomat, dan Tauge",
    },
    {
      id: 2,
      images: "img/menu/Makanan/Nasi_dan_Mie/Mie_Goreng_Jawa.jpeg",
      nama: "Mie Goreng <br> Jawa",
      harga: 32000,
      detail: "Mie, Telur, Daging Ayam, dan Sayuran",
    },
    {
      id: 3,
      images: "img/menu/Makanan/Nasi_dan_Mie/Nasi_Tim_Telur_Asin.jpg",
      nama: "Nasi Tim <br> Telur Asin",
      harga: 28000,
      detail: "Nasi, Telur Asin, Acar, dan Tomat",
    },
    {
      id: 4,
      images: "img/menu/Makanan/Nasi_dan_Mie/Nasi_Goreng_Jawa.jpeg",
      nama: "Nasi Goreng <br> Jawa",
      harga: 28000,
      detail: "Nasi, Telur, Daging Ayam, dan Sayuran",
    },
  ],
  kudapan_gurih: [
    {
      id: 1,
      images: "img/menu/Makanan/Kudapan_Gurih/Tahu_Tek_Suka Jaya.jpeg",
      nama: "Tahu Tek <br> SukaJaya",
      harga: 27000,
      detail: "Tahu, Telur, Bumbu Kacang, Sayuran Kol, dan Tauge",
    },
    {
      id: 2,
      images: "img/menu/Makanan/Kudapan_Gurih/Ote_Ote_Sukajaya.jpg",
      nama: "Ote - Ote <br> SukaJaya",
      harga: 23000,
      detail: "Sayur, Daging Ayam, Jamur, dan Sambal Petis",
    },
    {
      id: 3,
      images: "img/menu/Makanan/Kudapan_Gurih/Tahu_Kencot_Asam_Manis.jpeg",
      nama: "Tahu Kencot Asam Manis",
      harga: 23000,
      detail: "Tahu Pong, Cabe, Gula Jawa, dan Bumbu Rahasia",
    },
    {
      id: 4,
      images: "img/menu/Makanan/Kudapan_Gurih/Bakwan_Jagung_Manis.jpeg",
      nama: "Bakwan Jagung <br> Manis",
      harga: 23000,
      detail: "Jagung dan Sambal Petis",
    },
    {
      id: 5,
      images: "img/menu/Makanan/Kudapan_Gurih/Tahu_Kukus_Krispi.jpeg",
      nama: "Tahu Kukus <br> Krispi",
      harga: 23000,
      detail: "Tahu dan Sambal Petis",
    },
  ],
  kudapan_manis: [
    {
      id: 1,
      images: "img/menu/Makanan/Kudapan_Manis/Serabi_Kuah_Dulce.jpeg",
      nama: "Serabi Kuah <br> Dulce",
      harga: 32000,
      detail: "Serabi, Gula Aren Cair, dan Santan",
    },
    {
      id: 2,
      images: "img/menu/Makanan/Kudapan_Manis/Es_Pannacotta_Cendol.jpg",
      nama: "Es Pannacotta Cendol",
      harga: 32000,
      detail: "Cendol, Panakota, Santan, dan Gula Cair",
    },
    {
      id: 3,
      images: "img/menu/Makanan/Kudapan_Manis/Barongko.jpeg",
      nama: "Barongko",
      harga: 28000,
      detail: "Pisang, Es Krim, dan Almond",
    },
    {
      id: 4,
      images: "img/menu/Makanan/Kudapan_Manis/Es_Teler_Sago_Melon.jpg",
      nama: "Es Teler <br> Sago Melon",
      harga: 28000,
      detail: "Melon, Sagu, Nangka, dan Santan",
    },
    {
      id: 5,
      images: "img/menu/Makanan/Kudapan_Manis/Es_Pallu_Butung.jpg",
      nama: "Es Pallu <br> Butung",
      harga: 28000,
      detail: "Pisang, Sagu, dan Larutan Gula Merah",
    },
  ],
};

$(document).ready(function () {
  function createFoodCard(food) {
    var card = `<div class="col">
        <div class="card p-2 bg-smooth-light border-0">
          <div class="card-images rounded overflow-hidden">
            <img src="${food.images}" alt="${food.nama}" class="d-block img-fluid rounded">
          </div>
          <div class="card-body text-center py-3 px-0">
            <div class="card-title">
              <h6 class="m-0 fw-bold fs-7">${food.nama}</h6>
            </div>
            <div class="card-text d-flex justify-content-center align-items-center gap-2">
              <p class="m-0">Rp. <span class="price">${food.harga}</span>,00</p>/
              <input type="number" name="price-value" class="form-control form-control-sm bg-smooth-light border border-black px-1 price-value" style="width: 50px;" value="1" min="1">
            </div>
          </div>
          <div class="card-button d-flex gap-2">
            <button type="button" class="btn btn-sm btn-warning w-100" id="btn-detail" data-bs-toggle="modal" data-bs-target="#modal-ingredient" data-menu-name="${food.nama}" data-detail="${food.detail}">Detail</button>
            <button type="button" class="btn btn-sm btn-success w-100 btnPesan">Pesan</button>
          </div>
        </div>
      </div>`;

    return card;
  }

  // Fungsi untuk menampilkan makanan berdasarkan kategori yang dipilih
  function showFoods(category) {
    // Mengosongkan container card makanan
    $("#food-cards").empty();

    // Mendapatkan data makanan berdasarkan kategori dari objek JSON yang sudah didefinisikan
    var foods = dataMakanan[category];

    // Membuat card makanan dan menambahkannya ke dalam container
    $.each(foods, function (index, food) {
      var foodCard = createFoodCard(food);
      $("#food-cards").append(foodCard);
    });
  }

  // Event listener untuk perubahan kategori makanan
  $("#food-category").change(function () {
    var category = $(this).val();
    showFoods(category);
  });

  // Menampilkan makanan pertama kali saat halaman dimuat
  showFoods("beef");

  // Fungsi untuk melakukan pencarian makanan berdasarkan judul
  $("#food-search").keyup(function () {
    var searchText = $(this).val().toLowerCase(); // Mendapatkan teks pencarian dan mengubahnya menjadi huruf kecil

    // Melakukan iterasi pada setiap judul makanan di kartu
    $(".card-title h6").each(function () {
      var cardTitle = $(this).text().toLowerCase(); // Mendapatkan teks judul makanan dan mengubahnya menjadi huruf kecil

      // Memeriksa apakah teks pencarian cocok dengan judul makanan
      if (cardTitle.indexOf(searchText) > -1) {
        $(this).closest(".col").show(); // Menampilkan kartu makanan jika cocok
      } else {
        $(this).closest(".col").hide(); // Menyembunyikan kartu makanan jika tidak cocok
      }
    });
  });
});
